#ifndef _DRV_GPIO_HAL_H_
#define _DRV_GPIO_HAL_H_
#ifndef _DRV_GPIO_C_
#error "This file shall only be included in drv_gpio.c."
#endif
/*
 * AIROHA Bluetooth Device Firmware
 * COPYRIGHT (C) 2014 AIROHA TECHNOLOGY CORP. CO., LTD. ALL RIGHTS RESERVED
 *
 * dma_gpio_hal.h is the file defines the hardware abstraction layer of
 * dma_gpio.c.
 *
 * Programmer : CharlesSu@airoha.com.tw, Ext.2882
 */
#include "config.h"
#include "cpu.h"
#include "hw.h"



////////////////////////////////////////////////////////////////////////////////
// Version Control /////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#if !(CHIP_MODEL == 1520)
#error "Unsuitable Driver"
#endif



////////////////////////////////////////////////////////////////////////////////
// Constant Definitions ////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
/* Maximum number of GPIOs */
#define NUM_OF_GPIO 31
#define NUM_OF_GPIO_BANK ((NUM_OF_GPIO / 8) + ((NUM_OF_GPIO % 8) ? 1 : 0))



////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
typedef U8 GPIO_BIT_MASK;
typedef U8 GPIO_BANK_ID;
typedef U8 GPIO_SUB_ID;



////////////////////////////////////////////////////////////////////////////////
// Global Variables ////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
//- GPIO bit mask table
EXTERN GPIO_BIT_MASK CODE gGpioBitMask[8];
//- GPIO Output Shadow Register
EXTERN GPIO_BIT_MASK XDATA gGpioO[NUM_OF_GPIO_BANK];



////////////////////////////////////////////////////////////////////////////////
// Hardware Abstraction Layer //////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////
#define DRV_GPIO_GetBankId(I)               ( (I) >> 3 )    // equivalent to (I) / 8
#define DRV_GPIO_GetSubId(I)                ( (I) & 0x07 )  // equivalent to (I) % 8


#endif /* _DRV_GPIO_HAL_H_ */

